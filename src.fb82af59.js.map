{"version":3,"sources":["index.js"],"names":["refs","modalWindowEl","document","querySelector","modalCloseBtnEl","movieCardEl","galeryEl","searchFormEl","APIKEY","GENRES","id","name","onSubmitSearchForm","e","preventDefault","searchedMovie","currentTarget","elements","movie","value","console","log","searchAPIName","then","result","moviesRenderOnPage","fetch","response","json","data","results","searchAPITop","movieCardMaker","poster_path","title","genre_ids","release_date","vote_average","genreСonverter","releaseDate","genresArray","map","item","genre","join","dateString","slice","onStart","innerHTML","reduce","forRender","addEventListener"],"mappings":";AAAA,MAAMA,EAAO,CACTC,cAAeC,SAASC,cAAc,kBACtCC,gBAAiBF,SAASC,cAAc,oBACxCE,YAAaH,SAASC,cAAc,SACpCG,SAAUJ,SAASC,cAAc,aACjCI,aAAcL,SAASC,cAAc,iBAEnCK,EAAS,mCACTC,EAAS,CACb,CAACC,GAAI,GAAIC,KAAM,UACf,CAACD,GAAI,GAAIC,KAAM,aACf,CAACD,GAAI,GAAIC,KAAM,aACf,CAACD,GAAI,GAAIC,KAAM,UACf,CAACD,GAAI,GAAIC,KAAM,SACf,CAACD,GAAI,GAAIC,KAAM,eACf,CAACD,GAAI,GAAIC,KAAM,SACf,CAACD,GAAI,MAAOC,KAAM,UAClB,CAACD,GAAI,GAAIC,KAAM,WACf,CAACD,GAAI,GAAIC,KAAM,WACf,CAACD,GAAI,GAAIC,KAAM,UACf,CAACD,GAAI,MAAOC,KAAM,SAClB,CAACD,GAAI,KAAMC,KAAM,WACjB,CAACD,GAAI,MAAOC,KAAM,WAClB,CAACD,GAAI,IAAKC,KAAM,mBAChB,CAACD,GAAI,MAAOC,KAAM,YAClB,CAACD,GAAI,GAAIC,KAAM,YACf,CAACD,GAAI,MAAOC,KAAM,OAClB,CAACD,GAAI,GAAIC,KAAM,YAGjB,SAASC,EAAoBC,GACzBA,EAAEC,iBAEIC,MAAAA,EAAgBF,EAAEG,cAAcC,SAASC,MAAMC,MACrDC,QAAQC,IAAIN,GAEZO,EAAcP,GAAeQ,KAAKC,IAChCJ,QAAQC,IAAIG,EAAO,IACnBC,EAAmBD,KAQzB,SAASF,EAAeX,GACde,OAAAA,kGAAkGf,KAAQY,KAAKI,GAAYA,EAASC,QAAQL,KAAKM,GAAQA,EAAKC,SAExK,SAASC,IACAL,OAAAA,MAAO,6FAA4FH,KAAKI,GAAYA,EAASC,QAAQL,KAAKM,GAAQA,EAAKC,SAKhK,SAASE,GAAgB,YAACC,EAAD,MAAcC,EAAd,UAAqBC,EAArB,aAAgCC,EAAhC,aAA8CC,IAE9D,+FAEiDJ,kHAEnBC,sGAEKI,EAAeH,yHAEbI,EAAYH,yDACbC,uEAQ7C,SAASC,EAAgBE,GAChBA,OAAAA,EAAYC,IAAIC,IAChBC,IAAAA,SAASlC,EACRiC,GAAAA,IAASC,MAAMjC,GACViC,OAAAA,MAAMhC,OAGhBiC,KAAK,MAGV,SAASL,EAAaM,GACfA,OAAAA,EAAWC,MAAM,EAAG,GAG3B,SAASC,IACPhB,IAAeR,KAAKC,IAClBC,EAAmBD,KAKvB,SAASC,EAAoBI,GAC3B7B,EAAKM,SAAS0C,UAAYnB,EAAKoB,OAAO,CAACC,EAAWR,IACzCQ,EAAalB,EAAeU,GACpC,IA1BH1C,EAAKO,aAAa4C,iBAAiB,SAAUvC,GA4B7CmC","file":"src.fb82af59.js","sourceRoot":"../src","sourcesContent":["const refs = {\n    modalWindowEl: document.querySelector('.modal-overlay'),\n    modalCloseBtnEl: document.querySelector('.modal-btn-close'),\n    movieCardEl: document.querySelector('.card'),\n    galeryEl: document.querySelector('.gallery1'),\n    searchFormEl: document.querySelector('.header-form'),\n};\nconst APIKEY = \"8b9c2b35d1bc0d9e8879c4faa9dd8b75\";\nconst GENRES = [\n  {id: 28, name: 'Action'},\n  {id: 12, name: 'Adventure'},\n  {id: 16, name: 'Animation'},\n  {id: 35, name: 'Comedy'},\n  {id: 80, name: 'Crime'},\n  {id: 99, name: 'Documentary'},\n  {id: 18, name: 'Drama'},\n  {id: 10751, name: 'Family'},\n  {id: 14, name: 'Fantasy'},\n  {id: 36, name: 'History'},\n  {id: 27, name: 'Horror'},\n  {id: 10402, name: 'Music'},\n  {id: 9648, name: 'Mystery'},\n  {id: 10749, name: 'Romance'},\n  {id: 878, name: 'Science Fiction'},\n  {id: 10770, name: 'TV Movie'},\n  {id: 53, name: 'Thriller'},\n  {id: 10752, name: 'War'},\n  {id: 37, name: 'Western'},\n]\n\nfunction onSubmitSearchForm (e) {\n    e.preventDefault();\n \n    const searchedMovie = e.currentTarget.elements.movie.value;\n    console.log(searchedMovie)\n    \n    searchAPIName(searchedMovie).then(result => {\n      console.log(result[0])\n      moviesRenderOnPage(result);\n    })\n    \n    \n\n}\n\n\nfunction searchAPIName (name) {\n   return fetch(`https://api.themoviedb.org/3/search/movie?api_key=8b9c2b35d1bc0d9e8879c4faa9dd8b75&query=${name}`).then(response => response.json()).then(data => data.results) \n};\nfunction searchAPITop () {\n  return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=8b9c2b35d1bc0d9e8879c4faa9dd8b75`).then(response => response.json()).then(data => data.results)\n}\n\n\n\nfunction movieCardMaker ({poster_path, title, genre_ids, release_date, vote_average}) {\n  \nreturn  `\n        <div class=\"card\">\n            <img src=https://image.tmdb.org/t/p/original${poster_path} width=\"280\" height=\"398\">\n            <div class=\"card__description\">\n              <h4 class=\"movie-name\">${title}</h4>\n              <div class=\"movie-spesification\">\n                <span class=\"movie-genre\">${genreСonverter(genre_ids)}</span>\n                <span class=\"movie-release-delimeter\"></span>\n                <span class=\"movie-release\">${releaseDate(release_date)}</span>\n                <span class=\"movie-rating\">${vote_average}</span>\n              </div>\n            </div>\n        </div>\n`\n}\nrefs.searchFormEl.addEventListener('submit', onSubmitSearchForm);\n\nfunction genreСonverter (genresArray) {\n  return genresArray.map(item => {\n    for (genre of GENRES) {\n      if (item === genre.id) {\n        return genre.name;\n      }\n    }\n  }).join(\", \");\n  \n}\nfunction releaseDate (dateString) {\nreturn dateString.slice(0, 4);\n}\n\nfunction onStart () {\n  searchAPITop().then(result => {\n    moviesRenderOnPage(result);\n  });\n};\n\n\nfunction moviesRenderOnPage (data) {\n  refs.galeryEl.innerHTML = data.reduce((forRender, item) => {\n    return forRender += movieCardMaker(item);\n}, \"\");\n};\nonStart ()"]}